#FIG 3.2  Produced by xfig version 3.2.5
Portrait
Center
Inches
Letter  
95.20
Single
-2
# $Id: remote.fig,v 1.4 2009/01/06 04:53:45 jad Exp $
1200 2
6 6043 1656 8060 1851
4 1 4 50 -1 0 14 0.0000 4 165 585 6369 1851 INTO\001
4 0 0 50 -1 0 14 0.0000 4 165 1260 6759 1851 -o nodescend\001
-6
6 6010 2111 8612 2371
4 1 4 50 -1 0 14 0.0000 4 165 585 6336 2306 INTO\001
4 0 0 50 -1 0 14 0.0000 4 180 1920 6726 2306 -o nodescend,whole\001
-6
6 6075 3825 6150 3900
4 1 0 50 -1 0 14 0.0000 4 30 60 6108 3877 .\001
-6
6 1425 5250 7725 7500
4 2 0 50 -1 0 12 0.0000 4 195 1680 7725 5400 distfile specification\001
4 2 0 50 -1 0 12 0.0000 4 195 5235 7725 5655 Generated rdist(1) distfile used to provision the platform host.\001
4 2 0 50 -1 0 12 0.0000 4 180 5955 7725 5910 Uses the MAP, INTO, SEND, SUBDIR, and IGNORE make macros\001
4 2 0 50 -1 0 12 0.0000 4 195 6030 7725 6165 to provision the remote directory.  This is a three step process because\001
4 2 0 50 -1 0 12 0.0000 4 195 6090 7725 6420 some versions of rdist do not build target directories in the correct order\001
4 2 0 50 -1 0 12 0.0000 4 195 5985 7725 6675 without some explicit clues.  First build INTO, then each of SUBDIRs,\001
4 2 0 50 -1 0 12 0.0000 4 195 6270 7725 6930 then place the payload into INTO.  The contents of any SUBDIRs may be\001
4 2 0 50 -1 0 12 0.0000 4 195 6225 7725 7185 sent in the PRE_CMD hook via a HXINCLUDE hook to a script, or back\001
4 2 0 50 -1 0 12 0.0000 4 195 5220 7725 7440 to the make recipe file.  See the additional parameters below.\001
-6
6 975 4425 7425 4875
4 0 0 50 -1 0 12 0.0000 4 195 1305 975 4575 provision script\001
4 0 0 50 -1 0 12 0.0000 4 195 6390 975 4830 Generated by msrc, includes lots of m4 macros to hook in shell commands.\001
-6
6 675 10800 9225 12825
4 0 0 50 -1 0 12 0.0000 4 195 8490 675 10950 On the msrc command line (or in and HXINCLUDE options) add "-I --" to allow hxmd to see msrc's\001
4 0 0 50 -1 0 12 0.0000 4 195 8040 675 11205 library directory from all the m4 instances.  This allows you to use "class.m4" or the like at any\001
4 0 0 50 -1 0 12 0.0000 4 195 3855 675 11460 point where you might need it.   For example:\001
4 0 0 50 -1 0 12 0.0000 4 150 840 675 11715             -I --\001
4 0 0 50 -1 0 12 0.0000 4 195 2310 675 11970             -Y include(class.m4)\001
4 0 0 50 -1 0 12 0.0000 4 195 8385 675 12225 in "Msrc.hxmd" allows a command line with  -E "app=CLASSOF(HOST)"  to specify the "app" class\001
4 0 0 50 -1 0 12 0.0000 4 195 8175 675 12480 servers.  This is very useful to limit the possible destinations for some source directories, like the\001
4 0 0 50 -1 0 12 0.0000 4 195 3195 675 12735 libexec/hostlint-policy directory does.\001
-6
6 675 8100 9300 10200
4 0 0 50 -1 0 12 0.0000 4 195 8370 675 8250 In the provision script there are 5 positional parameters that msrc provides, all of which are useful:\001
4 0 0 50 -1 0 12 0.0000 4 210 6915 675 8925 ${2}     Which make recipe file did we consult.  Usually "Makefile" or "Msrc.mk"\001
4 0 0 50 -1 0 12 0.0000 4 210 7815 675 9225 ${3}     How are we to deliver the payload ("local" or "remote")?  Used to pick a taget in the\001
4 0 0 50 -1 0 12 0.0000 4 195 6030 675 9525                recipe file, usually.  (Set by -l, or by MODE from the makefile).\001
4 0 0 50 -1 0 12 0.0000 4 210 8280 675 9825 ${4}     Who are we on the remote host?  Usually ssh credentials "login@HOST" or just "HOST".\001
4 0 0 50 -1 0 12 0.0000 4 210 8385 675 10125 ${5}     Why are we being called -- which is the value of INTO, even when we are in "local" mode.\001
4 0 0 50 -1 0 12 0.0000 4 210 8565 675 8625 ${1}    Where is the local cache directory?  Either "." or, under local mode, someplace in $TMPDIR.\001
-6
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 2
	2 0 2.00 78.04 117.06
	 3312 1721 5913 1721
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 2
	2 0 2.00 78.04 117.06
	 3312 2241 5913 2241
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 2
	2 0 2.00 78.04 117.06
	 3247 3542 5848 3542
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 3
	 3052 2891 3312 3151 3052 3347
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 2
	2 0 2.00 78.04 117.06
	 3312 3151 5913 3151
2 1 0 1 5 7 50 -1 -1 0.000 0 0 -1 0 0 4
	 600 1125 225 1125 225 4050 600 4050
2 1 0 1 5 7 50 -1 -1 0.000 0 0 -1 0 0 4
	 9000 1650 9375 1650 9375 3225 9000 3225
3 2 0 1 0 7 50 -1 -1 0.000 0 1 0 3
	2 1 1.00 60.00 120.00
	 900 4575 525 4425 375 4050
	 0.000 -1.000 0.000
3 2 0 1 0 7 50 -1 -1 0.000 0 1 0 3
	2 1 1.00 60.00 120.00
	 7800 5325 8925 4800 9225 3300
	 0.000 -1.000 0.000
4 1 23 50 -1 0 14 0.0000 4 165 675 840 1786 SDIST\001
4 1 23 50 -1 0 14 0.0000 4 195 1710 4482 1656 ENTRY_LOGIN\001
4 1 23 50 -1 0 14 0.0000 4 195 1650 6369 1591 RDISTD_PATH\001
4 1 23 50 -1 0 14 0.0000 4 165 450 4417 3802 SSH\001
4 1 23 50 -1 0 14 0.0000 4 195 1245 4482 2176 RSH_PATH\001
4 1 4 50 -1 0 14 0.0000 4 165 930 8320 3216 IGNORE\001
4 1 23 50 -1 0 14 0.0000 4 195 1170 2335 1396 INIT_CMD\001
4 1 23 50 -1 0 14 0.0000 4 195 1470 2336 1786 RDIST_PATH\001
4 1 0 50 -1 0 14 0.0000 4 30 60 2336 2046 .\001
4 1 4 50 -1 0 14 0.0000 4 165 900 2336 2371 SUBDIR\001
4 1 4 50 -1 0 14 0.0000 4 165 540 2335 3282 MAP\001
4 1 23 50 -1 0 14 0.0000 4 195 1140 2335 2696 PRE_CMD\001
4 1 4 50 -1 0 14 0.0000 4 165 645 2335 3021 SEND\001
4 1 23 50 -1 0 14 0.0000 4 195 1290 2336 3932 POST_CMD\001
4 1 23 50 -1 0 14 0.0000 4 165 450 2335 3607 SSH\001
4 1 4 50 -1 0 14 0.0000 4 165 585 6336 3216 INTO\001
4 0 0 50 -1 0 14 0.0000 4 165 855 6726 3216 -o whole\001
4 1 0 50 -1 0 14 0.0000 4 165 225 6173 3542 cd\001
4 1 4 50 -1 0 14 0.0000 4 165 585 6694 3542 INTO\001
4 1 0 50 -1 0 14 0.0000 4 165 390 7344 3542 &&\001
4 1 0 50 -1 0 14 0.0000 4 165 390 8125 3867 &&\001
4 1 23 50 -1 0 14 0.0000 4 195 1545 7019 3867 ENTRY_DEFS\001
4 1 0 50 -1 0 14 0.0000 4 225 615 6369 4192 utility\001
4 1 13 50 -1 0 18 0.0000 4 195 2130 4650 300 REMOTE MODE\001
4 1 9 50 -1 0 14 0.0000 4 165 1950 2400 450 Master Source Host\001
4 1 16 50 -1 0 14 0.0000 4 165 1650 6900 450 A Platform Host\001
4 1 23 50 -1 0 14 0.0000 4 165 645 8475 450 HOST\001
4 1 4 50 -1 0 14 0.0000 4 165 585 8475 975 INTO\001
4 1 16 50 -1 0 14 0.0000 4 225 1530 6900 975 /usr/src/opt/ksb\001
4 1 9 50 -1 0 14 0.0000 4 225 1725 2325 975 /usr/msrc/opt/ksb\001
4 1 4 50 -1 0 14 0.0000 4 165 1440 4500 825 HXINCLUDE\001
